<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>{{ name }} çš„å¾®åšåšæ–‡</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='weiboPosts.css') }}">
</head>
<body>

<a href="{{ url_for('index') }}">ğŸ”™ è¿”å›é¦–é¡µ</a>

<h2>ğŸ“ {{ name }} çš„æ‰€æœ‰ç›¸å…³å¾®åš</h2>
<p class="weibo-count">å…± {{ posts | length }} æ¡</p>

{% for item in posts %}
    <div class="post">
        <div class="user-info">
            {% set emoji = {
                "æ™®é€šç”¨æˆ·": "ğŸ§‘",
                "é»„V": "ğŸ‘‘",
                "è“V": "ğŸ’¼",
                "çº¢V": "ğŸ¯",
                "é‡‘V": "ğŸ…"
            } %}
            {{ item.screen_name }} {{ emoji.get(item.user_authentication, "ğŸ§‘") }} 
        </div>
        <div class="post-meta">
            ğŸ•’ {{ item.created_at }}
        </div>
        <div class="post-content">
            {{ item.text }}
        </div>
        <div class="interaction">
            ğŸ” {{ item.reposts_count }}ã€€ğŸ’¬ {{ item.comments_count }}ã€€â¤ï¸ {{ item.attitudes_count }}
        </div>
    </div>
{% endfor %}
<!-- åˆ†é¡µ -->
<div class="pagination" style="text-align:center; margin-top: 30px;">
    {% if total_pages > 1 %}
        <div class="pagination-links">
            {% if current_page > 1 %}
                <a href="{{ url_for('player_posts', name=name, page=1) }}">é¦–é¡µ</a>
                <a href="{{ url_for('player_posts', name=name, page=current_page - 1) }}">ä¸Šä¸€é¡µ</a>
            {% endif %}

            {# ä¸­é—´é¡µç å—ï¼ˆåªæ˜¾ç¤ºå½“å‰é¡µå‰å2é¡µï¼‰ #}
            {% for p in range(current_page - 2, current_page + 3) %}
                {% if 1 <= p <= total_pages %}
                    {% if p == current_page %}
                        <strong style="margin: 0 5px;">{{ p }}</strong>
                    {% else %}
                        <a href="{{ url_for('player_posts', name=name, page=p) }}">{{ p }}</a>
                    {% endif %}
                {% endif %}
            {% endfor %}

            {% if current_page < total_pages %}
                <a href="{{ url_for('player_posts', name=name, page=current_page + 1) }}">ä¸‹ä¸€é¡µ</a>
                <a href="{{ url_for('player_posts', name=name, page=total_pages) }}">å°¾é¡µ</a>
            {% endif %}
        </div>
        <p style="margin-top:10px;">å…± {{ total_pages }} é¡µ</p>
    {% endif %}
</div>


</body>
</html>
