<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>å›½ä¹’å¾®åšèˆ†æƒ…åˆ†æç³»ç»Ÿ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div class="navbar">
    {% for player in players %}
        <a href="{{ url_for('player_posts', name=player) }}">{{ player }}</a>
    {% endfor %}
</div>

<div class="container">
    <form action="{{ url_for('ai_search') }}" method="get">
        <input type="text" name="query" placeholder="è¯·è¾“å…¥æ£€ç´¢å†…å®¹" style="width: 80%;">
        <button type="submit">ğŸ” AIæ™ºæœ</button>
    </form>

    <div class="charts">
        <!-- å·¦ä¾§å›¾è¡¨ï¼šæƒ…æ„Ÿè¶‹åŠ¿å›¾ -->
        <div class="chart-box">
            <div class="sub-navbar">
                {% for player in players %}
                    <a href="{{ url_for('index', player_score=player, player_network=player_network) }}"
                       class="{% if player == player_score %}active{% endif %}">{{ player }}</a>
                {% endfor %}
            </div>
            <div id="score-chart"></div>
        </div>

        <!-- å³ä¾§å›¾è¡¨ï¼šç¤¾äº¤ç½‘ç»œå›¾ -->
        <div class="chart-box">
            <div class="sub-navbar">
                {% for player in players %}
                    <a href="{{ url_for('index', player_score=player_score, player_network=player) }}"
                       class="{% if player == player_network %}active{% endif %}">{{ player }}</a>
                {% endfor %}
            </div>
            <div id="social-chart"></div>
        </div>
    </div>
</div>

<script>
    const scoreGraph = {{ score_graphJSON | safe }};
    const socialGraph = {{ social_graphJSON | safe }};
    Plotly.newPlot('score-chart', scoreGraph.data, scoreGraph.layout);
    Plotly.newPlot('social-chart', socialGraph.data, socialGraph.layout);
</script>

<!-- ç²’å­Canvas -->
<canvas id="particleCanvas"></canvas>

<!-- ç²’å­åŠ¨ç”»è„šæœ¬ -->
<script src="{{ url_for('static', filename='js/particles.js') }}"></script>

</body>
</html>
